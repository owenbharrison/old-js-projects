<script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.9.0/p5.js"></script>
<script>
var x = 200;
var y = 200;
var speed = 3;
var gravity = 0;
var poses = [];

function setup(){
  createCanvas(400, 400);
}

function draw(){  
  gravity -= 0.3;
  x+=speed;
  y-=gravity;
  if(y>350){gravity = 10;}
  if(x>370||x<0){speed*=-1;}
  
  background(255);
  
  push();
  fill(255);
  poses.push([x, y]);
  for(i=0;i<poses.length;i++){
    rect(poses[i][0], poses[i][1], 30, 50);
    
  }
  if(poses.length>50){
    poses.splice(0, 1);
  }
  pop();
}

document.addEventListener("keydown", function(){
  keys[event.keyCode] = true;
});

document.addEventListener("keyup", function(){
  keys[event.keyCode] = false;
});
</script>